<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jackson NFC Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–∏–±–µ—Ä–ø–∞–Ω–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            min-height: 100vh;
        }

        .cyber-glow {
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3), 
                        0 0 40px rgba(0, 255, 255, 0.1);
        }

        .cyber-glow-hover:hover {
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.6), 
                        0 0 60px rgba(0, 255, 255, 0.3),
                        inset 0 0 20px rgba(0, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .success-glow {
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.6), 
                        0 0 60px rgba(34, 197, 94, 0.3);
        }

        .text-shadow {
            text-shadow: 0 0 10px currentColor;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }

        .slide-in {
            animation: slideIn 0.6s ease-out;
        }

        .pulse-glow {
            animation: pulseGlow 2s infinite;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        @keyframes pulseGlow {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(0, 255, 255, 0.3); 
            }
            50% { 
                box-shadow: 0 0 40px rgba(0, 255, 255, 0.6); 
            }
        }

        .nfc-zone {
            background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(255, 0, 255, 0.1));
            border: 2px dashed rgba(0, 255, 255, 0.5);
        }

        .tab-active {
            background: linear-gradient(90deg, #00ffff, #ff00ff);
            color: #000;
        }
    </style>
</head>
<body class="text-white">
    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="min-h-screen flex flex-col">
        
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º -->
        <header class="fade-in text-center py-8 px-4">
            <h1 class="text-4xl md:text-6xl font-black text-shadow cyber-glow">
                <span class="bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 bg-clip-text text-transparent">
                    JACKSON
                </span>
            </h1>
            <p class="text-xl md:text-2xl mt-2 text-cyan-300">NFC SIMULATOR</p>
            <div class="w-24 h-1 bg-gradient-to-r from-cyan-400 to-purple-500 mx-auto mt-4 cyber-glow"></div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="flex-1 container mx-auto px-4 max-w-2xl">
            
            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
            <div class="slide-in flex bg-gray-800 rounded-lg p-1 mb-8 cyber-glow">
                <button id="sendTab" class="tab-button flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-300 tab-active">
                    –ü–ï–†–ï–î–ê–¢–¨ –î–ï–ù–¨–ì–ò
                </button>
                <button id="receiveTab" class="tab-button flex-1 py-3 px-6 rounded-lg font-bold transition-all duration-300 text-cyan-300 hover:text-white">
                    –ü–†–ò–ù–Ø–¢–¨ –û–ü–õ–ê–¢–£
                </button>
            </div>

            <!-- –†–µ–∂–∏–º "–ü–µ—Ä–µ–¥–∞—Ç—å –¥–µ–Ω—å–≥–∏" -->
            <div id="sendMode" class="mode-content slide-in">
                <div class="bg-gray-900 rounded-xl p-8 cyber-glow">
                    <h2 class="text-2xl font-bold text-cyan-300 mb-6 text-center">–û–¢–ü–†–ê–í–ö–ê –ü–õ–ê–¢–ï–ñ–ê</h2>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-bold text-cyan-300 mb-2">–°–£–ú–ú–ê –ö –û–ü–õ–ê–¢–ï:</label>
                            <input 
                                type="number" 
                                id="amountInput" 
                                placeholder="0.00" 
                                class="w-full px-4 py-3 bg-gray-800 border-2 border-cyan-500 rounded-lg text-white text-xl font-bold focus:outline-none focus:border-purple-500 transition-all duration-300 cyber-glow-hover"
                            >
                        </div>
                        
                        <button 
                            id="payButton" 
                            class="w-full bg-gradient-to-r from-cyan-500 to-purple-600 hover:from-cyan-400 hover:to-purple-500 py-4 px-6 rounded-lg font-bold text-xl transition-all duration-300 cyber-glow-hover transform hover:scale-105"
                        >
                            üí≥ –û–ü–õ–ê–¢–ò–¢–¨
                        </button>
                    </div>
                </div>

                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ -->
                <div id="successMessage" class="hidden mt-6 bg-green-900 border-2 border-green-500 rounded-xl p-6 text-center success-glow">
                    <div class="text-6xl mb-4">‚úÖ</div>
                    <h3 class="text-2xl font-bold text-green-400 mb-2">–û–ü–õ–ê–¢–ê –£–°–ü–ï–®–ù–û –í–´–ü–û–õ–ù–ï–ù–ê</h3>
                    <p class="text-green-300">–°—É–º–º–∞: <span id="paidAmount" class="font-bold"></span></p>
                </div>
            </div>

            <!-- –†–µ–∂–∏–º "–ü—Ä–∏–Ω—è—Ç—å –æ–ø–ª–∞—Ç—É" -->
            <div id="receiveMode" class="mode-content hidden">
                <div class="bg-gray-900 rounded-xl p-8 cyber-glow">
                    <h2 class="text-2xl font-bold text-cyan-300 mb-6 text-center">–ü–†–ò–ï–ú –ü–õ–ê–¢–ï–ñ–ê</h2>
                    
                    <!-- NFC –∑–æ–Ω–∞ -->
                    <div class="nfc-zone rounded-xl p-8 mb-6 text-center pulse-glow">
                        <div class="text-6xl mb-4">üì±</div>
                        <h3 class="text-xl font-bold text-cyan-300 mb-2">–û–ñ–ò–î–ê–ù–ò–ï NFC-–°–ò–ì–ù–ê–õ–ê...</h3>
                        <p class="text-gray-300">–ü—Ä–∏–ª–æ–∂–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è –æ–ø–ª–∞—Ç—ã</p>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è NFC -->
                    <button 
                        id="scanNfcButton" 
                        class="w-full bg-gradient-to-r from-purple-600 to-cyan-500 hover:from-purple-500 hover:to-cyan-400 py-4 px-6 rounded-lg font-bold text-xl transition-all duration-300 cyber-glow-hover transform hover:scale-105 mb-4"
                    >
                        üîç –°–ö–ê–ù–ò–†–û–í–ê–¢–¨ NFC
                    </button>

                    <!-- –°—Ç–∞—Ç—É—Å NFC -->
                    <div id="nfcStatus" class="text-center text-gray-400 text-sm"></div>

                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
                    <div id="nfcResult" class="hidden mt-6 bg-blue-900 border-2 border-blue-500 rounded-xl p-6">
                        <h4 class="text-lg font-bold text-blue-400 mb-2">–î–ê–ù–ù–´–ï NFC-–ú–ï–¢–ö–ò:</h4>
                        <pre id="nfcData" class="text-blue-300 text-sm bg-gray-800 p-3 rounded overflow-auto"></pre>
                    </div>
                </div>
            </div>

        </main>

        <!-- –§—É—Ç–µ—Ä -->
        <footer class="fade-in text-center py-6 text-gray-400 text-sm">
            <div class="w-full h-px bg-gradient-to-r from-transparent via-cyan-500 to-transparent mb-4"></div>
            <p>¬© Jackson Berserk NFC ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è</p>
        </footer>
    </div>

    <script>
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const sendTab = document.getElementById('sendTab');
        const receiveTab = document.getElementById('receiveTab');
        const sendMode = document.getElementById('sendMode');
        const receiveMode = document.getElementById('receiveMode');
        const amountInput = document.getElementById('amountInput');
        const payButton = document.getElementById('payButton');
        const successMessage = document.getElementById('successMessage');
        const paidAmount = document.getElementById('paidAmount');
        const scanNfcButton = document.getElementById('scanNfcButton');
        const nfcStatus = document.getElementById('nfcStatus');
        const nfcResult = document.getElementById('nfcResult');
        const nfcData = document.getElementById('nfcData');

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
        function switchTab(activeTab, inactiveTab, activeMode, inactiveMode) {
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ —Ç–∞–±–æ–≤
            activeTab.classList.add('tab-active');
            activeTab.classList.remove('text-cyan-300', 'hover:text-white');
            inactiveTab.classList.remove('tab-active');
            inactiveTab.classList.add('text-cyan-300', 'hover:text-white');

            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
            activeMode.classList.remove('hidden');
            activeMode.classList.add('slide-in');
            inactiveMode.classList.add('hidden');

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
            resetStates();
        }

        // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π
        function resetStates() {
            successMessage.classList.add('hidden');
            nfcResult.classList.add('hidden');
            amountInput.value = '';
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ç–∞–±–æ–≤
        sendTab.addEventListener('click', () => {
            switchTab(sendTab, receiveTab, sendMode, receiveMode);
        });

        receiveTab.addEventListener('click', () => {
            switchTab(receiveTab, sendTab, receiveMode, sendMode);
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–ø–ª–∞—Ç—ã
        payButton.addEventListener('click', () => {
            const amount = parseFloat(amountInput.value);
            
            if (!amount || amount <= 0) {
                // –ê–Ω–∏–º–∞—Ü–∏—è –æ—à–∏–±–∫–∏
                amountInput.classList.add('border-red-500');
                amountInput.style.boxShadow = '0 0 20px rgba(239, 68, 68, 0.5)';
                
                setTimeout(() => {
                    amountInput.classList.remove('border-red-500');
                    amountInput.style.boxShadow = '';
                }, 1000);
                return;
            }

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            payButton.disabled = true;
            payButton.textContent = '–û–ë–†–ê–ë–û–¢–ö–ê...';
            payButton.classList.add('opacity-75');

            // –°–∏–º—É–ª—è—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–∞
            setTimeout(() => {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—à–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
                paidAmount.textContent = `${amount.toFixed(2)} ‚ÇΩ`;
                successMessage.classList.remove('hidden');
                successMessage.classList.add('slide-in');

                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                payButton.disabled = false;
                payButton.textContent = 'üí≥ –û–ü–õ–ê–¢–ò–¢–¨';
                payButton.classList.remove('opacity-75');

                // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ
                amountInput.value = '';
            }, 2000);
        });

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ NFC
        function checkNfcSupport() {
            if ('NDEFReader' in window) {
                nfcStatus.textContent = '‚úÖ NFC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è';
                nfcStatus.classList.add('text-green-400');
                scanNfcButton.disabled = false;
            } else {
                nfcStatus.textContent = '‚ùå –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç NFC';
                nfcStatus.classList.add('text-red-400');
                scanNfcButton.disabled = true;
                scanNfcButton.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        // –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ NFC
        async function scanNfc() {
            if (!('NDEFReader' in window)) {
                alert('NFC –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ');
                return;
            }

            try {
                const ndef = new NDEFReader();
                scanNfcButton.textContent = '–°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï...';
                scanNfcButton.disabled = true;

                await ndef.scan();
                
                ndef.addEventListener('readingerror', () => {
                    console.log('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è NFC');
                    resetScanButton();
                });

                ndef.addEventListener('reading', ({ message, serialNumber }) => {
                    console.log(`> Serial Number: ${serialNumber}`);
                    console.log(`> Records: (${message.records.length})`);
                    
                    let nfcInfo = `Serial Number: ${serialNumber}\n`;
                    nfcInfo += `Records: ${message.records.length}\n\n`;

                    message.records.forEach((record, index) => {
                        nfcInfo += `Record ${index + 1}:\n`;
                        nfcInfo += `  Type: ${record.recordType}\n`;
                        nfcInfo += `  Media Type: ${record.mediaType}\n`;
                        nfcInfo += `  Data: ${new TextDecoder().decode(record.data)}\n\n`;
                    });

                    nfcData.textContent = nfcInfo;
                    nfcResult.classList.remove('hidden');
                    nfcResult.classList.add('slide-in');
                    resetScanButton();
                });

            } catch (error) {
                console.log('–û—à–∏–±–∫–∞ NFC:', error);
                alert('–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ NFC: ' + error.message);
                resetScanButton();
            }
        }

        function resetScanButton() {
            scanNfcButton.textContent = 'üîç –°–ö–ê–ù–ò–†–û–í–ê–¢–¨ NFC';
            scanNfcButton.disabled = false;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        scanNfcButton.addEventListener('click', scanNfc);

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –≤–≤–æ–¥–µ —Å—É–º–º—ã
        amountInput.addEventListener('input', (e) => {
            if (e.target.value) {
                e.target.classList.add('border-purple-500');
            } else {
                e.target.classList.remove('border-purple-500');
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            checkNfcSupport();
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
        amountInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                payButton.click();
            }
        });
    </script>
</body>
</html>
